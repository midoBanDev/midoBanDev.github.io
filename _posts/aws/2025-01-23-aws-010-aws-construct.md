---
layout: single
title:  "[AWS] AWS의 구조"
categories:
  - Aws
tags:
  - [Aws, VPC, Subnet]

toc: true
toc_sticky: true
---

## 클라우드(Cloud)
클라우드(Cloud)란 인터넷을 통해 **컴퓨팅 리소스를 빌려 쓸 수 있는 서비스**를 말한다. 
쉽게 말해 컴퓨터를 직접 사지 않고 네트워크를 통해 외부의 컴퓨터에 접속하여 내 마음대로 사용할 수 있다고 생각하면 된다. 

>**컴퓨팅(Computing)**  
- 컴퓨팅이란 데이터를 처리하기 위해 수행되는 연산과 작업을 의미하며, 현대에는 연산뿐 아니라 머신러닝, 네트워크 통신, 데이터 저장과 같은 다양한 작업도 포함된다. 
- 컴퓨팅 리소스는 컴퓨팅 활동을 처리하기 위해 사용되는 자원으로, CPU, 메모리, 스토리지, 네트워크 대역폭 등을 포함한다. 
- 컴퓨팅 플랫폼은 컴퓨팅 리소스를 활용해 우리가 원하는 작업을 처리할 수 있도록 구성된 환경으로, 개인용 컴퓨터뿐 아니라 클라우드 서비스(AWS, Azure 등)와 같은 가상화된 환경도 포함된다. 

클라우드 서비스를 제공하는 대표적인 기업은 아마존이 있다. 
아마존은 AWS(Amazon Web Services)라는 클라우드 컴퓨팅 플랫폼을 제공한다. 
그래서 우리는 편하게 집에서 AWS에서 제공하는 컴퓨팅 리소스를 가져다가 사용할 수 있다. 

AWS 같은 클라우드 서비스들은 기본적으로 **온디맨드(On-Demand)** 방식을 사용한다. 
그래서 쉽게 사용하고, 쉽게 확장하고, 쉽게 삭제할 수 있다.(개인적으로 쉬운지는 모르겠음) 

>온디맨드란 필요할 때 즉시 사용하고, 사용한 만큼 비용을 지불하는 방식을 말한다. 

<img src="" width="80%" height="80%"/>

<div style="padding-top:60px;"></div>
<span style="margin-left:35%;">⊙</span>
<span style="margin-left:10%">⊙</span>
<span style="margin-left:10%">⊙</span>
<div style="padding-top:60px;"></div>

## 리전(Region)과 가용 영역(AZ, Availability Zone)
AWS는 전 세계적으로 분산된 클라우드 인프라를 제공하며, 이를 구성하는 주요 요소는 `리전(Region)`, `가용 영역(AZ, Availability Zone)`, 그리고 `에지 로케이션(Edge Location)` 이다. 
AWS의 인프라는 안정성과 가용성을 극대화하기 위해 설계되었으며, 이를 이해하면 AWS 서비스의 작동 방식과 선택 기준을 명확히 알 수 있다.


### AWS 리전(Region)

**리전(Region)**은 AWS가 제공하는 서비스의 물리적 위치를 나타낸다. 
이는 AWS가 클라우드 서비스를 제공하는 가장 큰 단위이며, 전 세계 여러 곳에 분산되어 있다. 
AWS의 세계적으로 분표되어 있는 리전은 사용자와 가까운 위치에서 서비스를 제공하여 지연 시간을 줄이고 성능을 향상시키기 위해 존재한다.  
<img src="https://github.com/user-attachments/assets/a3af37e7-8ff7-4615-a0e5-ae1450b34af8" width="80%" height="80%"/>

**리전의 특징**  
- 각 리전은 고유 코드를 가지고 있다. 
- 예를 들어 서울 리전의 코드는 `ap-northeast-2`, 도쿄 리전의 코드는 `ap-northeast-1` 이다. 
- 모든 AWS 서비스가 모든 리전에서 제공되는 것은 아니다. 때론 원하는 서비스를 사용하기 위해 해당 서비스가 제공되는 리전을 선택해야 할 수도 있다.
- 예를 들어, 새로운 서비스는 보통 US East-1(버지니아 북부) 리전에서 먼저 출시된 후 다른 리전으로 확장되곤 한다.

리전을 선택할 때는 **지연 시간**, **법적 요건**, **사용 가능한 서비스**를 고려해야 한다. 
사용자가 북미에 있다면 북미 리전을 선택하여 지연 시간을 줄이고, 특정 국가에서 요구하는 데이터 저장 규정을 준수해야 하며, 필요로 하는 서비스가 해당 리전에서 제공되는지 확인해야 한다.

<br>

### AWS 가용 영역(AZ, Availability Zone)
AWS의 리전은 다시 여러 개의 **가용 영역(AZ)**으로 나뉜다. 
가용 영역은 **하나 이상의 독립적인 데이터 센터**로 구성되어 있으며, 고가용성과 안정성을 제공하는 핵심 요소이다.


**다중 가용 영역 구성**  
>하나의 리전은 현재 최소 2개에서 최대 6개의 가용 영역(AZ)으로 구성된다. 

대체로 하나의 리전은 3개 이상의 가용 영역(AZ)으로 구성되어 있다. 
가용 영역(AZ)은 서로 100KM 정도의 물리적 거리로 떨어져 있다. 이는 자연재해나 장애로 인한 서비스 중단을 방지하기 위한 설계의 일환이다. 
하지만 가용 영역(AZ) 간에는 전용 네트워크로 연결되어 빠른 데이터 전송이 가능하도록 설계되었다. 

<br>

**가용 영역의 구성**  
>각 가용 영역(AZ)은 하나 이상의 데이터 센터로 이루어져 있다. 

데이터 센터는 서버와 네트워크 인프라의 집합으로, 클라우드 서비스를 제공하기 위한 물리적 공간을 말한다. 
대부분의 AWS 서비스는 하나 이상의 데이터 센터로 이루어진 가용 영역 단위에서 실행된다. 

AWS 서비스를 사용하는 중에 만약 하나의 데이터 센터에서 문제가 발생하더라도 같은 가용 영역(AZ) 내의 다른 데이터 센터에 의해 서비스를 지속할 수 있어 높은 가용성을 보장할 수 있다. 
또한 여러 재해에 대한 대비할 수 있고 보안성을 높일 수 있다. 

<br>

**보안과 트래픽 분산**  
가용 영역의 코드는 계정마다 다르게 설정된다.

예를 들어, 사용자 A의 계정에서 **"가용 영역A"**는 **"데이터 센터1"**에 매핑될 수 있지만, 
사용자 B의 계정에서는 **"가용 영역A"**가 **데이터 센터2**에 매핑될 수 있다. 

이렇게 설정함으로써 보안이 강화되고, 특정 AZ로 트래픽이 몰리는 것을 방지할 수 있다. 
간단히 말해, 모든 계정이 동일한 가용 영역(AZ)을 사용하지 않도록 랜덤하게 배정하여 안전성과 균형을 유지한다.

<div style="padding-top:60px;"></div>
<span style="margin-left:35%;">⊙</span>
<span style="margin-left:10%">⊙</span>
<span style="margin-left:10%">⊙</span>
<div style="padding-top:60px;"></div>

## 에지 로케이션(Edge Location)
에지 로케이션은 AWS의 콘텐츠 배포 네트워크(CDN, Content Delivery Network)를 구성하는 물리적 거점을 말한다. 
에지 로케이션은 전 세계적으로 리전보다 훨씬 많은 곳에 분포되어 있다. 
AWS가 전 세계 사용자에게 데이터를 빠르고 효율적으로 제공하기 위해 구축되어 데이터 처리 및 전달 지점 역할을 담당하고 있다.

>CDN(Content Delivery Network)
CDN은 콘텐츠를 사용자에게 더 빠르고 안정적으로 전달하기 위해 설계된 분산 네트워크 시스템을 말한다. 
주로 웹 페이지, 동영상 스트리밍, 이미지와 같은 정적 콘텐츠를 전 세계 여러 위치에 미리 캐싱해두고, 사용자에게 가까운 서버에서 데이터를 제공함으로써 지연 시간을 줄이고 성능을 향상시키기는 역할을 한다.

AWS의 CloudFront는 이러한 CDN 서비스의 대표적인 예로, 에지 로케이션을 활용해 사용자와 가까운 위치에서 스트리밍 콘텐츠나 정적 파일을 제공함으로써 지연 시간을 줄이고 안정성을 높인다.

예를 들어, 서울에서 스트리밍 서비스를 운영하며 전 세계에 콘텐츠를 제공한다고 가정해자. 
모든 요청을 서울의 서버에서 처리한다면, 거리가 먼 지역에서는 속도가 느려지고 연결이 불안정해질 수 있다. 
하지만 AWS 에지 로케이션을 사용하면, 각 지역의 에지 로케이션에 콘텐츠를 미리 캐싱하여 사용자가 가까운 지점에서 데이터를 받을 수 있다. 
이를 통해 콘텐츠 전달 속도는 빨라지고 서버 부하도 줄어들게 됩니다.

에지 로케이션은 단순히 캐싱 기능만 제공하는 것이 아니다. 
CloudFront의 보안 기능과 연결되어, 데이터 전송 암호화 및 애플리케이션 계층의 보호 기능을 제공한다. 
이렇게 물리적으로 존재하는 에지 로케이션은 글로벌 AWS 네트워크의 핵심적인 구성 요소로, 사용자 경험을 극대화한다.

<img src="https://github.com/user-attachments/assets/2b53534f-c11a-4834-bbdb-6db7d23cb745" width="80%" height="80%"/>

<div style="padding-top:60px;"></div>
<span style="margin-left:35%;">⊙</span>
<span style="margin-left:10%">⊙</span>
<span style="margin-left:10%">⊙</span>
<div style="padding-top:60px;"></div>

## AWS 서비스의 분류
AWS 서비스는 제공 방식에 따라 글로벌 서비스와 리전 서비스로 나뉜다.

<br>

**글로벌 서비스**  
글로벌 서비스는 전 세계 모든 리전에서 공통적으로 사용 가능한 AWS 서비스로, 특정 리전이나 가용 영역에 제한되지 않고 AWS 계정 전반에서 작동한다.

예를 들어:  
- **IAM(Identity and Access Management)**은 사용자와 권한을 중앙에서 관리하는 서비스로, 이를 통해 전 세계 어디서나 동일한 사용자 인증과 권한 설정을 적용할 수 있다. 
- **Route 53**은 DNS 관리 서비스를 제공하며, 특정 리전의 물리적 위치에 구애받지 않고 전 세계의 사용자들에게 동일한 도메인 네임 서비스를 제공한다.
- **AWS WAF(Web Application Firewall)**는 웹 애플리케이션을 보호하기 위한 글로벌 보안 서비스로, 모든 리전에서 동일하게 작동한다. 
- **Billing(청구 관리)** 역시 전 세계 AWS 리소스의 비용을 통합적으로 관리할 수 있는 글로벌 서비스의 한 예이다.

이러한 글로벌 서비스는 AWS 계정을 사용하는 모든 리전과 사용자에게 동일한 환경을 제공하여, 사용자 경험의 일관성을 유지하는 데 중요한 역할을 한다.

<br>

**리전 서비스**  
리전 서비스는 특정 리전 내에서만 제공되는 AWS 서비스를 의미한다. 
이는 사용자가 데이터를 저장하거나 처리할 때 물리적 위치를 선택하고 제어할 수 있도록 설계되었다. 
AWS의 리전 서비스는 데이터를 처리하거나 저장하는 물리적 위치가 중요할 때 특히 유용하다.

AWS 리전 서비스는 리전 단위에서 작동하며, 데이터와 인프라가 선택한 리전에 제한된다. 
이는 법적 요구사항을 준수하거나 지연 시간을 줄이는 데 도움을 준다.

예를 들어:  
- **S3(Simple Storage Service)**는 데이터를 여러 가용 영역(AZ)에 분산 저장하지만, 사용자가 데이터를 생성한 리전 내에만 데이터를 저장한다. 즉, 리전을 "서울"로 선택하면 모든 데이터는 서울 리전 내에서만 저장되고 처리된다. 이는 데이터 주권을 유지하고 지연 시간을 줄이는 데 유용하다.
- **EC2(Elastic Compute Cloud)**는 가상 서버를 생성하며, 리전과 가용 영역(AZ)을 지정해 워크로드를 실행할 수 있다. 사용자가 "도쿄 리전"에서 EC2 인스턴스를 생성하면, 해당 인스턴스는 도쿄 리전 내의 가용 영역(AZ)에서만 실행된다. 필요에 따라 동일한 리전 내의 다른 가용 영역(AZ)으로 확장하거나 다중 가용 영역(AZ) 설정을 통해 안정성을 높일 수도 있다.

데이터의 저장 및 처리가 물리적으로 리전 내에 제한되므로, 법적 요구사항(예: 데이터 주권)에 적합하다. 
또한 리전 단위로 서비스가 운영되므로, 사용자는 자신의 워크로드를 세밀하게 제어할 수 있다.
예를 들어, 북미 사용자들을 위한 서비스를 설계할 경우, 북미 리전을 선택함으로써 지연 시간을 줄이고 사용자 경험을 개선할 수 있다.

>워크로드(workload)  
시스템이 처리하는 작업, 애플리케이션이 실행하는 작업 등을 의미한다.
예를 들어 Windows 워크로드라고 하면 Windows 운영체제에서 실행되는 애플리케이션이나 작업들을 의미한다. 

<div style="padding-top:60px;"></div>
<span style="margin-left:35%;">⊙</span>
<span style="margin-left:10%">⊙</span>
<span style="margin-left:10%">⊙</span>
<div style="padding-top:60px;"></div>

## AWS 리소스의 고유 식별자: ARN
AWS의 모든 리소스에는 고유 식별자인 **ARN**(Amazon Resource Name)이 부여된다. 
ARN은 리소스를 식별하고 관리하기 위한 정보로 구성된다. 

예를 들어, 
- S3 버킷의 ARN은 `arn:aws:s3:::bucket-name` 형태로, 서비스, 리전, 계정 ID, 리소스 유형 및 이름을 포함한다. 
  
이러한 구조는 사용자가 다양한 리소스를 쉽게 구분하고 관리할 수 있도록 해준다.


<img src="" width="80%" height="80%"/>
<img src="" width="80%" height="80%"/>
<img src="" width="80%" height="80%"/>
<img src="" width="80%" height="80%"/>
<img src="" width="80%" height="80%"/>
